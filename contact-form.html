<!-- Contact Form Component - Reusable across pages -->
<div class="contact-form-content">
      <h2>Contact Us</h2>
      <p>Ready to get started? Let's discuss how we can help you navigate your legal needs with confidence and expertise.</p>
      
      <!-- Make.com webhook URL for form submissions -->
      <form class="contact-form" action="https://hook.us1.make.com/4tb16e2573ducwy6necora78b12wqht5" method="POST">
        <div class="form-row">
          <div class="form-group">
            <label for="firstName">First Name *</label>
            <input type="text" id="firstName" name="firstName" required>
          </div>
          <div class="form-group">
            <label for="lastName">Last Name *</label>
            <input type="text" id="lastName" name="lastName" required>
          </div>
        </div>
        
        <div class="form-group">
          <label for="email">Email Address *</label>
          <input type="email" id="email" name="email" required>
        </div>
        
        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" name="phone">
        </div>
        
        <div class="form-group">
          <label for="service">What specific help are you looking for? *</label>
          <select id="service" name="service" required>
            <option value="">Select a service</option>
            <option value="alternative-dispute-resolution">Alternative Dispute Resolution (ADR)</option>
            <option value="appraisals">Appraisals</option>
            <option value="compliance-anti-money-laundering-privacy-law">Compliance: Anti-Money Laundering and Privacy Law</option>
            <option value="construction-and-development">Construction and Development</option>
            <option value="corporate-services">Corporate Services</option>
            <option value="labour-employment-law">Labour & Employment Law</option>
            <option value="notary-services">Notary Services</option>
            <option value="real-estate">Real Estate Law</option>
            <option value="rights-entitlement">Rights & Entitlement</option>
            <option value="tax-law">Tax Law</option>
            <option value="title-search-due-diligence">Title Search & Due Diligence</option>
            <option value="other">Other</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="message">Tell us about your legal needs *</label>
          <textarea id="message" name="message" rows="4" placeholder="Please provide details about your situation and how we can help you..." required></textarea>
        </div>
        
        <div class="form-group">
          <button type="submit" class="submit-button">Send Message</button>
        </div>
      </form>
</div>

<script>
// Form submission handling
document.addEventListener('DOMContentLoaded', function() {
  const form = document.querySelector('.contact-form');
  
  if (form) {
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Show loading state
      const submitButton = form.querySelector('.submit-button');
      const originalText = submitButton.textContent;
      submitButton.textContent = 'Sending...';
      submitButton.disabled = true;
      
      // Submit form data as form-encoded (Make.com webhook format)
      const formData = new FormData(form);
      
      // Convert FormData to URL-encoded string
      const urlEncodedData = new URLSearchParams(formData).toString();
      
      fetch(form.action, {
        method: 'POST',
        body: urlEncodedData,
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
          'Accept': 'application/json'
        }
      })
      .then(response => {
        if (response.ok) {
          // Redirect to thank you page
          window.location.href = 'gracias.html';
        } else {
          throw new Error('Form submission failed');
        }
      })
      .catch(error => {
        console.error('Error:', error);
        alert('There was an error sending your message. Please try again or contact us directly.');
        
        // Reset button
        submitButton.textContent = originalText;
        submitButton.disabled = false;
      });
    });
  }
});
</script>
